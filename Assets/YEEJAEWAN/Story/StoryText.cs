using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public class StoryText : MonoBehaviour
{
    
    public bool Story1End = false;
    public bool Story2End = false;
    public bool Story3End = false;
    public bool Story4End = false;

    public bool Story1End2 = false;
    public bool Story2End2 = false;
    public bool Story3End2 = false;
    public bool Story4End2 = false;

    public Text Story1;
    public Text Story2;
    public Text Story3;
    public Text Story4;
    public Text Story5;
    public Text Story6;
    public Text Story7;
    public Text Story8;

    public string Story1Text;
    public string Story2Text;
    public string Story3Text;
    public string Story4Text;
    public string Story5Text;
    public string Story6Text;
    public string Story7Text;
    public string Story8Text;

    void Start()
    {
        Story1.text = "";
        Story2.text = "";
        Story3.text = "";
        Story4.text = "";
        Story5.text = "";
        Story6.text = "";
        Story7.text = "";
        Story8.text = "";
    }

    void Update()
    {
        Story1.text = Story1Text;
        Story2.text = Story2Text;
        Story3.text = Story3Text;
        Story4.text = Story4Text;
        if (StoryTelling.IsStory == true && Story1End == false)
            StartCoroutine(Waiting());

        if (StoryTelling.IsStory == true && Story1End2 == true && Story1End == true && Story2End == false) 
            StartCoroutine(Waiting2());

        if (StoryTelling.IsStory == true && Story2End2 ==true && Story2End == true && Story3End == false )
            StartCoroutine(Waiting3());

        if (StoryTelling.IsStory2 == true) 
        {
            Story1.text = "";
            Story2.text = "";
            Story3.text = "";
            Story4.text = "";

            StoryTelling.IsStory2 = false;
        }

        if (StoryTelling.StoryEnd == true)
        {
            Story1.text = "";
            Story2.text = "";
            Story3.text = "";
            Story4.text = "";

      
        }

    }
    IEnumerator Waiting() 
    {
        Story1End = true;
        yield return new WaitForSecondsRealtime(1);
        Story1Text = "엄";
        yield return new WaitForSecondsRealtime(0.1f);
        Story1Text = "엄마";
        yield return new WaitForSecondsRealtime(0.1f);
        Story1Text = "엄마와";
        yield return new WaitForSecondsRealtime(0.1f);
        Story1Text = "엄마와 함";
        yield return new WaitForSecondsRealtime(0.1f);
        Story1Text = "엄마와 함께";
        yield return new WaitForSecondsRealtime(0.1f);
        Story1Text = "엄마와 함께 숲";
        yield return new WaitForSecondsRealtime(0.1f);
        Story1Text = "엄마와 함께 숲 속";
        yield return new WaitForSecondsRealtime(0.1f);
        Story1Text = "엄마와 함께 숲 속에";
        yield return new WaitForSecondsRealtime(0.1f);
        Story1Text = "엄마와 함께 숲 속에 살";
        yield return new WaitForSecondsRealtime(0.1f);
        Story1Text = "엄마와 함께 숲 속에 살던";
        yield return new WaitForSecondsRealtime(0.1f);
        Story1Text = "엄마와 함께 숲 속에 살던 빨";
        yield return new WaitForSecondsRealtime(0.1f);
        Story1Text = "엄마와 함께 숲 속에 살던 빨간";
        yield return new WaitForSecondsRealtime(0.1f);
        Story1Text = "엄마와 함께 숲 속에 살던 빨간모";
        yield return new WaitForSecondsRealtime(0.1f);
        Story1Text = "엄마와 함께 숲 속에 살던 빨간모자";
        yield return new WaitForSecondsRealtime(0.1f);
        Story1Text = "엄마와 함께 숲 속에 살던 빨간모자는";
        Story1End2 = true;
        Debug.Log("스토리 1 끝");
    }
    IEnumerator Waiting2() 
    {
        Story2End = true;
        yield return new WaitForSeconds(0.5f);
        Story2Text = "어";
        yield return new WaitForSeconds(0.1f);
        Story2Text = "어느";
        yield return new WaitForSeconds(0.1f);
        Story2Text = "어느 날 ";
        yield return new WaitForSeconds(0.1f);
        Story2Text = "어느 날 어";
        yield return new WaitForSeconds(0.1f);
        Story2Text = "어느 날 어머";
        yield return new WaitForSeconds(0.1f);
        Story2Text = "어느 날 어머니";
        yield return new WaitForSeconds(0.1f);
        Story2Text = "어느 날 어머니께";
        yield return new WaitForSeconds(0.1f);
        Story2Text = "어느 날 어머니께 할";
        yield return new WaitForSeconds(0.1f);
        Story2Text = "어느 날 어머니께 할머";
        yield return new WaitForSeconds(0.1f);
        Story2Text = "어느 날 어머니께 할머니";
        yield return new WaitForSeconds(0.1f);
        Story2Text = "어느 날 어머니께 할머니";
        yield return new WaitForSeconds(0.1f);
        Story2Text = "어느 날 어머니께 할머니 간";
        yield return new WaitForSeconds(0.1f);
        Story2Text = "어느 날 어머니께 할머니 간병";
        yield return new WaitForSeconds(0.1f);
        Story2Text = "어느 날 어머니께 할머니 간병을";
        Story2End2 = true;
        Debug.Log("스토리 2 끝");
    }
    IEnumerator Waiting3() 
    {
        Story3End = true;
        yield return new WaitForSeconds(0.5f);
        Story3Text = "부";
        yield return new WaitForSeconds(0.1f);
        Story3Text = "부탁";
        yield return new WaitForSeconds(0.1f);
        Story3Text = "부탁받";
        yield return new WaitForSeconds(0.1f);
        Story3Text = "부탁받게";
        yield return new WaitForSeconds(0.1f);
        Story3Text = "부탁받게 되";
        yield return new WaitForSeconds(0.1f);
        Story3Text = "부탁받게 되었";
        yield return new WaitForSeconds(0.1f);
        Story3Text = "부탁받게 되었어";
        yield return new WaitForSeconds(0.1f);
        Story3Text = "부탁받게 되었어요.";
        yield return new WaitForSeconds(0.5f);
        Story3End2 = true;
        Debug.Log("스토리 3 끝");
        StoryTelling.StoryEnd = true;
    }
}
